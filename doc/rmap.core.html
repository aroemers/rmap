<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>rmap.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Rmap 0.5.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rmap</span></div></div></li><li class="depth-2 branch current"><a href="rmap.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><a href="rmap.middleware.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>middleware</span></div></a></li><li class="depth-3 branch"><a href="rmap.middleware.default.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>default</span></div></a></li><li class="depth-3 branch"><a href="rmap.middleware.examples.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>examples</span></div></a></li><li class="depth-3 branch"><a href="rmap.middleware.parallel.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>parallel</span></div></a></li><li class="depth-3"><a href="rmap.middleware.sharing.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sharing</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="rmap.core.html#var-add-middleware"><div class="inner"><span>add-middleware</span></div></a></li><li class="depth-1"><a href="rmap.core.html#var-add-middleware-after"><div class="inner"><span>add-middleware-after</span></div></a></li><li class="depth-1"><a href="rmap.core.html#var-assoc-lazy"><div class="inner"><span>assoc-lazy</span></div></a></li><li class="depth-1"><a href="rmap.core.html#var-current-middlewares"><div class="inner"><span>current-middlewares</span></div></a></li><li class="depth-1"><a href="rmap.core.html#var-merge-lazy"><div class="inner"><span>merge-lazy</span></div></a></li><li class="depth-1"><a href="rmap.core.html#var-remove-middleware"><div class="inner"><span>remove-middleware</span></div></a></li><li class="depth-1"><a href="rmap.core.html#var-rmap"><div class="inner"><span>rmap</span></div></a></li><li class="depth-1"><a href="rmap.core.html#var-rmap*"><div class="inner"><span>rmap*</span></div></a></li><li class="depth-1"><a href="rmap.core.html#var-seq-evalled"><div class="inner"><span>seq-evalled</span></div></a></li><li class="depth-1"><a href="rmap.core.html#var-seq-realized"><div class="inner"><span>seq-realized</span></div></a></li><li class="depth-1"><a href="rmap.core.html#var-with-unrealized"><div class="inner"><span>with-unrealized</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">rmap.core</h2><div class="doc"><pre class="plaintext">The core public API for recursive maps. Consult the README and/or
the docstrings for a detailed explanation of how to work with them.</pre></div><div class="public anchor" id="var-add-middleware"><h3>add-middleware</h3><h4 class="added">added in 0.5</h4><div class="usage"><code>(add-middleware rmap middleware)</code></div><div class="doc"><pre class="plaintext">Add dynamic middleware to the given recursive map, in front of the
other middlewares. This function returns a sequence of middleware
names in the recursive map.</pre></div></div><div class="public anchor" id="var-add-middleware-after"><h3>add-middleware-after</h3><h4 class="added">added in 0.5</h4><div class="usage"><code>(add-middleware-after rmap middleware after-name)</code></div><div class="doc"><pre class="plaintext">Add dynamic middleware to the given recursive map, inserted right
after the middleware with the given name. Returns a sequence of
middleware names in the recursive map.</pre></div></div><div class="public anchor" id="var-assoc-lazy"><h3>assoc-lazy</h3><h4 class="type">macro</h4><h4 class="added">added in 0.4</h4><div class="usage"><code>(assoc-lazy rm sym k form)</code></div><div class="doc"><pre class="plaintext">Associates a lazy form to the given recursive map, under the key
`k`. The form can access other entries in the map using the `sym`
symbol.</pre></div></div><div class="public anchor" id="var-current-middlewares"><h3>current-middlewares</h3><h4 class="added">added in 0.5</h4><div class="usage"><code>(current-middlewares rmap)</code></div><div class="doc"><pre class="plaintext">Returns a sequence of the current middleware names.
</pre></div></div><div class="public anchor" id="var-merge-lazy"><h3>merge-lazy</h3><h4 class="added">added in 0.4</h4><div class="usage"><code>(merge-lazy m1 &amp; mx)</code></div><div class="doc"><pre class="plaintext">Merges one or more recursive maps, without realizing any unrealized
values. Returns a new recursive map. Only allowed when all the
recursive maps have the same non-dynamic middleware, in the same
order. Middleware data is merged as well. The middleware of the
&quot;last&quot; recursive map is used for the merged result.</pre></div></div><div class="public anchor" id="var-remove-middleware"><h3>remove-middleware</h3><h4 class="added">added in 0.5</h4><div class="usage"><code>(remove-middleware rmap name)</code></div><div class="doc"><pre class="plaintext">Remove dynamic middleware by name from a recursive map. This also
removes the middleware data from the recursive map, if any. Returns
a sequence of middleware names that are still in the recursive map.</pre></div></div><div class="public anchor" id="var-rmap"><h3>rmap</h3><h4 class="type">macro</h4><div class="usage"><code>(rmap sym m)</code><code>(rmap sym m middlewares)</code></div><div class="doc"><pre class="plaintext">Defines a lazy, recursive map. That is, expressions in the values
of the map can use the given symbol `sym` to access other keys
within the map. Optionally one can supply a vector of middlewares.
If not supplied, the default-middleware is used. An empty vector
means no middleware is used, meaning that an entry will be realized
everytime it is requested. See README for usage and examples.</pre></div></div><div class="public anchor" id="var-rmap*"><h3>rmap*</h3><h4 class="added">added in 0.5</h4><div class="usage"><code>(rmap*)</code><code>(rmap* middlewares)</code></div><div class="doc"><pre class="plaintext">Create an empty recursive map. Given no arguments, the
default-middleware is used. One can also supply a vector of
middlewares. An empty vector means no middleware is used, meaning
that an entry will be realized every time it is requested.</pre></div></div><div class="public anchor" id="var-seq-evalled"><h3>seq-evalled</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Old name for seq-realized.
</pre></div></div><div class="public anchor" id="var-seq-realized"><h3>seq-realized</h3><h4 class="added">added in 0.5</h4><div class="usage"><code>(seq-realized rmap)</code></div><div class="doc"><pre class="plaintext">Where calling `seq` on a recursive map normally evaluates all the entries,
this function only returns a seq of the currently realized entries.</pre></div></div><div class="public anchor" id="var-with-unrealized"><h3>with-unrealized</h3><h4 class="type">macro</h4><h4 class="added">added in 0.5</h4><div class="usage"><code>(with-unrealized val &amp; body)</code></div><div class="doc"><pre class="plaintext">Binds the dynamic variable rmap.internals/*unrealized* to the given
value, and executes the body within that binding. When bound, its
value is used by the middlewares, such as the default middleware,
instead of realizing an unrealized entry.</pre></div></div></div></body></html>